# –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ª—é–±—ã—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö:
- AJAX-–∑–∞–ø—Ä–æ—Å—ã (fetch, jQuery.ajax)
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º
- –ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pjax

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö fetch-–∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç jQuery AJAX (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º
- –°–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º —Ñ–æ–Ω–∞ (backdrop-filter)
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏–Ω–Ω–µ—Ä Bootstrap
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ (300–º—Å) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –º–∏–≥–∞–Ω–∏—è

### ‚öôÔ∏è –£–º–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–∫–∞–∑–∞ (200–º—Å) ‚Äî –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –°—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è:

**Fetch –∑–∞–ø—Ä–æ—Å–æ–≤:**
```javascript
fetch('/api/data')
    .then(response => response.json())
    .then(data => console.log(data));
// –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**jQuery AJAX:**
```javascript
$.ajax({
    url: '/api/data',
    success: function(data) {
        console.log(data);
    }
});
// –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º:**
```html
<form method="post" action="/submit">
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ submit -->
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</form>
```

### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é:

```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
LoadingIndicator.show();

// –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
doSomething();

// –°–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
LoadingIndicator.hide();
```

**–ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏):**
```javascript
LoadingIndicator.show(true); // immediate = true
```

**–°–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```javascript
LoadingIndicator.reset(); // –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–î–ª—è fetch:**
```javascript
fetch('/api/data', {
    headers: {
        'X-Skip-Loading': 'true'
    }
});
// –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ù–ï –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω
```

**–î–ª—è —Ñ–æ—Ä–º:**
```html
<form method="post" data-no-loading>
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ù–ï –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω -->
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</form>
```

## CSS –∫–ª–∞—Å—Å—ã

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫

–î–æ–±–∞–≤—å—Ç–µ –∫–ª–∞—Å—Å `btn-loading` –∫ –∫–Ω–æ–ø–∫–µ –¥–ª—è –ø–æ–∫–∞–∑–∞ inline-—Å–ø–∏–Ω–Ω–µ—Ä–∞:

```html
<button class="btn btn-primary btn-loading">
    –ó–∞–≥—Ä—É–∑–∫–∞...
</button>
```

–ò–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ:
```javascript
button.classList.add('btn-loading');
// ... –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é ...
button.classList.remove('btn-loading');
```

### Inline –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

–î–ª—è –ø–æ–∫–∞–∑–∞ –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Å–ø–∏–Ω–Ω–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—Å—Ç–∞:

```html
<span>–û–±—Ä–∞–±–æ—Ç–∫–∞ <span class="loading-inline"></span></span>
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `site.js`:

```javascript
var minDisplayTime = 300; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ (–º—Å)
var showDelay = 200;      // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º (–º—Å)
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è

–°—Ç–∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `site.css`:

```css
.loading-overlay {
    background-color: rgba(0, 0, 0, 0.5); /* –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ñ–æ–Ω–∞ */
    backdrop-filter: blur(3px);            /* –†–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
}

.loading-spinner {
    background: white;                     /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ —Å–ø–∏–Ω–Ω–µ—Ä–∞ */
    padding: 2rem 3rem;                    /* –û—Ç—Å—Ç—É–ø—ã */
    border-radius: 12px;                   /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ */
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: AJAX –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```javascript
function loadContent(url) {
    // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    fetch(url)
        .then(r => r.text())
        .then(html => {
            document.getElementById('content').innerHTML = html;
        });
    // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å —Ä—É—á–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º

```javascript
async function processData() {
    LoadingIndicator.show();
    
    try {
        await someAsyncOperation();
        await anotherAsyncOperation();
        console.log('–ì–æ—Ç–æ–≤–æ!');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
    } finally {
        LoadingIndicator.hide();
    }
}
```

### –ü—Ä–∏–º–µ—Ä 3: –§–æ—Ä–º–∞ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

```html
<form id="myForm" data-no-loading>
    <input type="text" name="data" />
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</form>

<script>
document.getElementById('myForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    LoadingIndicator.show(true); // –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
    
    fetch(this.action, {
        method: 'POST',
        body: new FormData(this)
    })
    .then(r => r.json())
    .then(data => {
        alert('–£—Å–ø–µ—Ö!');
    })
    .finally(() => {
        LoadingIndicator.hide();
    });
});
</script>
```

### –ü—Ä–∏–º–µ—Ä 4: –ö–Ω–æ–ø–∫–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏

```html
<button id="saveBtn" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

<script>
document.getElementById('saveBtn').addEventListener('click', async function() {
    const btn = this;
    btn.classList.add('btn-loading');
    btn.disabled = true;
    
    try {
        await saveData();
        alert('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!');
    } finally {
        btn.classList.remove('btn-loading');
        btn.disabled = false;
    }
});
</script>
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å vanilla JavaScript (fetch)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å jQuery AJAX
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å Bootstrap 5
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Pjax –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

## –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
console.log('Active requests:', LoadingIndicator.activeRequests);

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å
LoadingIndicator.show(true);

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–∫—Ä—ã—Ç—å
LoadingIndicator.reset();
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞** ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 300–º—Å, –¥–∞–∂–µ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –±—ã—Å—Ç—Ä–µ–µ. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –º–∏–≥–∞–Ω–∏—è.

2. **–ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–∫–∞–∑–∞** ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 200–º—Å. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–æ–æ–±—â–µ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è.

3. **–§–æ—Ä–º—ã —Å target="_blank"** ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏—Ö—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ.

4. **–¢–∞–π–º–∞—É—Ç** ‚Äî –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å–ª—É—á–∞–π –∑–∞–≤–∏—Å–∞–Ω–∏—è.

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ó–∞–≥—Ä—É–∑–∫–∞...", "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...", "–û–±—Ä–∞–±–æ—Ç–∫–∞...")
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
